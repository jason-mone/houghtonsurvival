function activeState(a){step[a.replace(/[^0-9]/g,"")].className="step checked active"}function checkState(){for(var a=document.getElementsByClassName("step active"),b=0;b<a.length;b++)a[b].className="step checked"}function updateAmount(){var a=document.getElementsByClassName("step checked");amount.innerHTML=a.length+"/"+step.length}function findId(){checkState(),activeState(this.id),updateAmount()}for(var step=document.getElementsByClassName("step"),prevStepLink=document.getElementsByClassName("steplink-prev"),nextStepLink=document.getElementsByClassName("steplink-next"),amount=document.getElementById("amount"),i=0;i<step.length;i++)step[i].addEventListener("click",findId),prevStepLink[i].addEventListener("click",findId),nextStepLink[i].addEventListener("click",findId);for(var i=0;i<step.length;i++)if(document.location.href===document.getElementsByClassName("step")[i].href){for(var a=i;a>-1;a--)step[a].className="step checked";step[i].className+=" active"}step[0].click();